═══════════════════════════════════════════════════════
🔄 CHANGELOG - Point & Figure Chart MT5
═══════════════════════════════════════════════════════

Version 1.2.0 - ล่าสุด (2024-11-01)
───────────────────────────────────────────────────────

✨ คุณสมบัติใหม่: Pan & Zoom + Auto-Refresh
   
🎮 Pan & Zoom แบบ TradingView:
   • Mouse Wheel Zoom - ซูมด้วยลูกกลิ้งเมาส์
   • Mouse Drag Pan - ลากเมาส์เพื่อเลื่อนดู
   • Zoom Buttons - ปุ่ม +, −, Reset
   • Touch Support - Pinch-to-Zoom บนมือถือ
   • Zoom Range: 50% - 500%
   • แสดง Zoom Level แบบ Real-time
   • Cursor เปลี่ยนเป็น grab/grabbing
   
📊 การแสดงราคาแบบใหม่:
   • ด้านซ้าย: ราคาหลักทุก 5 แถว (ใหญ่, Bold)
   • ด้านขวา: ราคาทุกแถว! (ขนาดกลาง)
   • สีสลับกันเพื่อความชัดเจน
   • อ่านง่ายแม้ Zoom เข้า-ออก
   • Padding เพิ่มขึ้นเป็น 120px ทั้งซ้ายและขวา
   
🔄 Auto-Refresh อัตโนมัติ:
   • รีเฟรชข้อมูลอัตโนมัติทุก X วินาที
   • ตั้งค่าได้ 5-300 วินาที
   • Toggle ON/OFF ด้วยปุ่ม
   • Silent Refresh - ไม่มี Loading screen
   • เก็บตำแหน่ง Zoom และ Pan ไว้
   • แสดงเวลา Update ล่าสุด
   • Indicator แสดงสถานะ (เขียว = ON, เทา = OFF)
   • หยุดอัตโนมัติเมื่อ Disconnect
   
🎨 UI/UX Improvements:
   • Zoom Controls ที่มุมขวาบน
   • Zoom Level Display แบบ Real-time
   • Auto-Refresh Indicator with Animation
   • Chart Canvas ใหญ่ขึ้น (min 600px height)
   • Container ใหญ่ขึ้น (max-width: 1600px)
   • Grab cursor เมื่อ Pan
   • Smooth Transitions
   • Responsive ทุกหน้าจอ
   
🔧 Technical Changes:
   • Canvas size ปรับตาม Zoom
   • Transform matrix สำหรับ Pan/Zoom
   • Event listeners สำหรับ mouse และ touch
   • Silent chart reload function
   • Zoom state management
   • Auto-cleanup on page unload

🎯 ผลลัพธ์:
   • ประสบการณ์การใช้งานแบบ TradingView
   • เห็นรายละเอียดมากขึ้น 500%
   • ตัดสินใจเทรดได้เร็วขึ้น
   • เหมาะสำหรับ Professional Traders


═══════════════════════════════════════════════════════

Version 1.1.0 - (2024-10-31)
───────────────────────────────────────────────────────

✨ คุณสมบัติใหม่: Auto-Connect & Auto-Load
   • เชื่อมต่อ MT5 อัตโนมัติเมื่อเปิดหน้าเว็บ
   • โหลดกราฟอัตโนมัติหลังเชื่อมต่อสำเร็จ
   • ดึงค่าทั้งหมดจาก config.json
   • ตั้งค่า Symbol เริ่มต้นได้
   
📝 การตั้งค่าใหม่ใน config.json:
   
   "mt5": {
     "auto_connect": true    ← เชื่อมต่ออัตโนมัติ
   },
   "chart": {
     "symbol": "EURUSD",     ← Symbol เริ่มต้น
     "timeframe": "M15",     ← Timeframe เริ่มต้น
     "bars": 1000,           ← จำนวน bars
     "auto_load": true       ← โหลดกราฟอัตโนมัติ
   }

🎯 ผลลัพธ์:
   • เปิดหน้าเว็บ → เชื่อมต่อ → แสดงกราฟ ทันที!
   • ไม่ต้องกรอกข้อมูลซ้ำทุกครั้ง
   • ประหยัดเวลา 90%


═══════════════════════════════════════════════════════

Version 1.0.3 - (2024-10-31)
───────────────────────────────────────────────────────

✅ ปรับปรุง: ขนาดตัวเลขราคาบนกราฟ
   • เพิ่มขนาดฟอนต์จาก 11px → 16px (ใหญ่ขึ้น 45%)
   • เปลี่ยนเป็น bold font สำหรับความชัดเจน
   • เพิ่มพื้นหลังสีขาวให้ตัวเลข (อ่านง่ายขึ้น)
   • เปลี่ยนสีตัวเลขเป็นสีเข้มกว่า (#2c3e50)
   • เพิ่ม padding จาก 60px → 100px (พื้นที่มากขึ้น)
   
✨ การปรับปรุงเพิ่มเติม:
   • เพิ่มความหนาของเส้น X และ O จาก 3px → 4px
   • ปรับปรุงการวาดกราฟให้คมชัดขึ้น
   
🎯 ผลลัพธ์:
   • ตัวเลขราคามองเห็นชัดเจนมาก
   • อ่านง่ายแม้บนหน้าจอเล็ก
   • UI สวยงามและเป็นมืออาชีพมากขึ้น


═══════════════════════════════════════════════════════

Version 1.0.2 - (2024-10-31)
───────────────────────────────────────────────────────

✅ แก้ไข: JSON Parsing Error
   • เพิ่ม Content-Type validation ก่อน parse JSON
   • ปรับปรุง error handling ใน checkStatus()
   • ปรับปรุง error handling ใน connectMT5()
   • ปรับปรุง error handling ใน loadChart()
   • แสดง error messages ที่ชัดเจนและเป็นประโยชน์มากขึ้น
   
   ผลลัพธ์:
   • ไม่มี console errors เมื่อโหลดหน้าเว็บ
   • แสดง error messages ที่เข้าใจง่าย
   • ป้องกัน "Unexpected token '<'" error

✨ การปรับปรุง:
   • เพิ่ม delay 500ms ก่อนเช็คสถานะการเชื่อมต่อ
   • Graceful error handling สำหรับทุก API calls
   • ไม่แสดง error ที่ไม่จำเป็นใน console


═══════════════════════════════════════════════════════

Version 1.0.1 - (2024-10-31)
───────────────────────────────────────────────────────

✅ แก้ไข: FastAPI DeprecationWarning
   • เปลี่ยนจาก @app.on_event() เป็น lifespan context manager
   • ใช้ @asynccontextmanager สำหรับ startup/shutdown
   • รองรับ FastAPI เวอร์ชันล่าสุด

🎯 ผลลัพธ์:
   • ไม่มี DeprecationWarning อีกต่อไป
   • โค้ดทำงานเหมือนเดิม 100%
   • รองรับ FastAPI 0.104.1+


═══════════════════════════════════════════════════════

Version 1.0.0 - Initial Release
───────────────────────────────────────────────────────

✨ Features:
   • Point and Figure Chart calculator
   • MT5 integration
   • FastAPI REST API
   • Responsive web interface
   • Mobile support
   • Configurable box size & reversal amount
   • Multiple timeframe support
   • Real-time data from MT5


═══════════════════════════════════════════════════════
🎯 Upgrade Path
═══════════════════════════════════════════════════════

จาก v1.0.x → v1.1.0:
  • เพิ่มการตั้งค่า auto_connect และ auto_load ใน config.json
  • ไม่กระทบ code ที่มีอยู่

จาก v1.1.0 → v1.2.0:
  • แทนที่ไฟล์ index.html ใหม่ทั้งหมด
  • ไม่ต้องแก้ Backend (main.py, mt5_connector.py)
  • ใช้งาน config.json เดิมได้เลย
  • ไม่กระทบ API


═══════════════════════════════════════════════════════
📥 การอัปเดต
═══════════════════════════════════════════════════════

1. สำรองไฟล์เดิม:
   • config.json (มี password)
   
2. ดาวน์โหลด v1.2.0:
   • แทนที่ไฟล์ static/index.html
   
3. Restore config:
   • ใช้ config.json เดิม
   
4. Test:
   • Refresh browser (Ctrl+F5)
   • ทดสอบ Pan & Zoom
   • ทดสอบ Auto-Refresh


═══════════════════════════════════════════════════════
